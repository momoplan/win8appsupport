(function(){var d=[],a=[],p=[],E=[],c,o,q=[];var j;var C=0,z=0,i=1,B=1;var l=0;var r=window.Root;function H(){m();w("bit").addEventListener("click",y,false);w("ten").addEventListener("click",y,false);w("addToList").addEventListener("click",A,false);w("restChose").addEventListener("click",v,false);w("multBox").addEventListener("click",g,false);w("lotmulti").addEventListener("change",J,false);w("showChase").addEventListener("click",k,false);w("payBtn").addEventListener("click",s,false)}function y(L){var K=L.target;if(K.tagName.toLowerCase()=="a"){var N=this.getElementsByTagName("a");for(var M=0;M<N.length;M++){N[M].className=""}K.className="checked";if(this.id=="bit"){c=K.innerHTML}else{if(this.id=="ten"){o=K.innerHTML}}if(c&&o){w("bettingInfo").innerHTML="您当前选中了1注，共2元"}}}function A(){if(o&&c){var O='<div class="numLeft"><div><span class="redNums">'+c+'</span><span class="redNums">'+o+"</span></div><div>"+1+"注，"+2+'元</div></div><div class="numRight"><img sva='+1+' class="removeList" src="../images/icon/close.png" /></div><div class="clear"></div>';var L=document.createElement("li");L.innerHTML=O;L.addEventListener("click",b,false);w("betList").appendChild(L);C+=1;var N,M,K;if(o=="小"){M="1"}else{if(o=="大"){M="2"}else{if(o=="单"){M="5"}else{if(o=="双"){M="4"}}}}if(c=="小"){K="1"}else{if(c=="大"){K="2"}else{if(c=="单"){K="5"}else{if(c=="双"){K="4"}}}}N=M+K;q.push(N);v();f();console.log(q)}else{w("bettingInfo").innerHTML="请个位、十位各选一个号码"}}function b(L){var K=L.target;if(K.tagName.toLowerCase()=="img"){C-=K.getAttribute("sva");var N=w("betList").getElementsByTagName("li");for(var M=0;M<N.length;M++){if(N[M]==K.parentNode.parentNode){q.splice(M,1)}}console.log(q);w("betList").removeChild(K.parentNode.parentNode);f()}}function k(){var K=(B==1)?5:B;var M='    <div class="dialogDetail">        <div class="logTit">            <div class="titLeft">                <a onClick="closeDialog()" class="diaBtn" href="#">关闭</a>                </div>            <div class="titRight">                <a id="saveCh" class="diaBtn" href="javascript:;">保存</a>                </div>            <div class="titMidd">设置追期</div>        </div>        <div class="logCont">            <div class="chaseBox">                <div class="chaseTop">                    <div class="chaseTopLeft">                        <p class="fl">追期数：</p>                        <div class="chaseCtrl">                            <img id="chaseDel" src="../images/btn/chaseDel.png" />                            <div class="chaseInput">                                <input id="chaseNumber" value="5" type="text" />                            </div>                            <img id="chaseAdd" src="../images/btn/chaseAdd.png" />                        </div>                    </div>                    <div class="chaseTopRight">                            <p class="fl">中奖后停止追期:</p>                        <div class="closeBtn">                            <span id="isChaseStop" class="onoff"><label><i></i></label></span>                        </div>                    </div>                </div>                <div class="chaseMidd">                        <ul id="chaseMidd">                    </ul>                </div>                <div class="clear"></div>                <div class="chaseBtm">                    <a id="newPpayBtn" class="addToList" href="javascript:"><p>立即购买</p></a>				   </div>                <div class="clear h18"></div>            </div>                    </div>    </div>';var L={width:850,height:450,isMask:true};r.dialog(M,L);if(B>1){t(B);w("chaseNumber").value=K}else{t(5)}w("newPpayBtn").addEventListener("click",s,false);w("chaseNumber").addEventListener("blur",e,false);w("isChaseStop").addEventListener("click",n,false);w("chaseDel").addEventListener("click",h,false);w("chaseAdd").addEventListener("click",x,false);w("saveCh").addEventListener("click",u,false)}function h(){var L=w("chaseMidd").getElementsByTagName("li");var K=L.length-1;if(K<1){return}w("chaseMidd").removeChild(L[K]);w("chaseNumber").value-=1}function x(){var K=Number(w("chaseNumber").value);var L='                        <li>                            <p class="chaseNum fl">                                '+(Number(j)+K)+'期                            </p>                            <p class="chasePrice">                                    <span>'+C*2+"</span>元                            </p>                        </li>";w("chaseMidd").innerHTML+=L;w("chaseNumber").value=K+1}function t(M){var L="";for(var K=0;K<M;K++){L+='                        <li>                            <p class="chaseNum fl">                                '+(Number(j)+K)+'期                            </p>                            <p class="chasePrice">                                    <span>'+C*2+"</span>元                            </p>                        </li>"}w("chaseMidd").innerHTML=L}function u(){B=Number(w("chaseNumber").value);closeDialog();w("curChase").innerHTML=B;f()}function e(){var L=this.value;var K=/^[1-9]\d*$/;if(L==0||!K.test(L)){this.value=1;t(1);return}t(L)}function g(){w("lotmulti").focus()}function J(){var K=Number(w("lotmulti").value);i=K;var L=/^[1-9]\d*$/;if(K==0||!L.test(K)){K=1;this.value=1}else{if(K>200){this.value=200}}f()}function f(){w("payNum").innerHTML="共"+C+"注，"+C*2*i*B+"元"}function v(){var M=w("bit").getElementsByTagName("a");for(var L=0;L<M.length;L++){M[L].className=""}var N=w("ten").getElementsByTagName("a");for(var K=0;K<N.length;K++){N[K].className=""}w("bettingInfo").innerHTML="您当前选中了0注，共0元";c=undefined,o=undefined}function s(){console.log(q);if(!sessionStorage.getItem("sessionid")){w("logBtn").click();return}if(C<1){w("payNum").innerHTML="请将您选择的号码加入到号码栏！";return}if(document.getElementById("saveCase")){document.getElementById("saveCase").click()}var O="";var M=C;for(var L=0;L<q.length;L++){O+="DD|"+q[L]+"_"+i+"_200_"+200}var N=O.replace("!","");M*=i*200;var K={command:"betLot",bettype:"bet",userno:sessionStorage.getItem("userno"),bet_code:O,batchnum:B,batchcode:j,lotno:"T01007",lotmulti:i,amount:M,prizeend:z,oneAmount:"200",isSellWays:"1"};console.log(K);var P=util.stringify(K);sessionStorage.setItem("bet",P);w("dialog").style.display="none";r.getData(K,"betResult")}function D(K){var L=K;if(L.error_code=="0000"){window.location.href="result/success.html?Ssc"}else{sessionStorage.setItem("res",L.message);window.location.href="result/fail.html?Ssc"}}window.betResult=D;function m(){var K={command:"QueryLot",type:"highFrequency",lotno:"T01007"};r.getData(K,"setBatchcode")}function I(K){var O=K;j=O.batchcode;var N=O.starttime.replace(/\D/g,"");var L=O.endtime.replace(/\D/g,"");var Q=N.substr((N.length-2),2);var M=N.substr((N.length-4),2);var P=L.substr((L.length-2),2);w("batchCode").innerHTML=j;w("endTime").innerHTML=K.endtime;w("isLottery").style.display="block";if(P==0){P=60}l=(P*60)-(M*60)-Q;setTimeout(F,0)}function F(){l--;setTimeout(F,1000);var K=Math.floor(l/60);var L=l%60;w("backTime").innerHTML=K+"："+L;if(l<0||l==0){window.location.reload()}}window.setBatchcode=I;function n(){if(this.className=="onoff"){this.className="onoff onoff-on";z=1}else{z=0;this.className="onoff"}}function G(L,K){return L-K}function w(K){return document.getElementById(K)||new Object}H()})();